@page "/"
@using Microsoft.AspNetCore.Identity
@*@using Microsoft.AspNetCore.Components.Authorization*@

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@inject NavigationManager UriHelper


<PageTitle>Index</PageTitle>

<h1>Welcome!</h1>

@*@if (!SignInManager.IsSignedIn(User)) {
	<h3 class="text-danger">Please, loggin to use following commands</h3>
	}
*@

<div class="my-3">
	<div class="list-group">
		<button type="button" class="list-group-item list-group-item-action py-2" @onclick="@(() => UriHelper.NavigateTo("/quizViewer"))">
			<div class="fw-bold text-primary">Run a quiz session</div>
			<AuthorizeView>
				<NotAuthorized>
					<a href="Identity/Account/Login">Log in</a> required
				</NotAuthorized>
				<Authorized>&nbsp;</Authorized>
			</AuthorizeView>
		</button>
		<button type="button" class="list-group-item list-group-item-action py-2" @onclick="@(() => UriHelper.NavigateTo("/oldQuizSessions"))">
			<div class="fw-bold text-primary">Restore old or not finished quiz session</div>
			<AuthorizeView>
				<NotAuthorized>
					<a href="Identity/Account/Login">Log in</a> required
				</NotAuthorized>
			</AuthorizeView>
			(TODO)
		</button>
	</div>

	<div class="list-group mt-5">
		<button type="button" class="list-group-item list-group-item-action py-2" @onclick="@(() => UriHelper.NavigateTo("/QuizSettings"))">
			<div class="fw-bold text-primary">Quiz statistics</div>
			<AuthorizeView>
				<NotAuthorized>
					<a href="Identity/Account/Login">Log in</a> required
				</NotAuthorized>
				<Authorized>&nbsp;</Authorized>
			</AuthorizeView>
		</button>
	</div>
</div>

@*<SurveyPrompt Title="How is Blazor working for you?" />*@